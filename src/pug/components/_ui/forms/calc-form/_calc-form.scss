@forward "@styles/_extends/flexbox.scss";
@forward "@styles/_extends/resets.scss";
@forward "@styles/_extends/effects.scss";
@use "@styles/_mixins/container-queries" as *;
@use "@styles/_vars/scoped" as *;

.calc-form {
  background-color: var(--white);
  border-radius: 30px;
  width: 100%;
  max-width: 1024px;
  padding: clamp(24px, 2.4vw,32px) clamp(16px, 2vw,24px);
  container: calc-form/ inline-size;

  & .base-title {
    line-height: 1.2;
    margin-bottom: clamp(16px, 3.2vw, 50px);
    font-size: clamp(24px, 3.4vw, 48px);
  }

  & small {
    font-size: 12px;
  }

  & form {
    @extend %flex-column;
    gap: 16px;
  }

  fieldset {
    @extend %fieldset-reset;
    @extend %flex-wrap;
    align-items: center;
    gap: 8px;

    @include container-down('calc-form', 860px) {
      & .main-input-wrapper {
        flex-grow: 1;
        width: calc(50% - 8px);
        min-width: 200px;
        max-width: 240px;
      }

      & .main-input-wrapper .main-btn {
        width: 100%;
      }
    }

    @include container-down('calc-form', 420px) {
      & .main-input-wrapper {
        width: 100%;
        max-width: 100%;
      }
    }
  }

  &__header { 
    @extend %flex-align;
    gap: 32px;
    margin-bottom: 12px;

    @include container-down('calc-form', $tablet-lg-width) {
      gap: 0;
    }

    @include container-down('calc-form', 460px) {
      gap: 8px;
      flex-direction: column;
      align-items: flex-start;
    }

    fieldset {
      align-items: center;
      gap: 0;

      @include container-down('calc-form', $mobile-width) {
        flex-direction: column;
        align-items: flex-start;
      }

      @include container-down('calc-form', 860px) {
        width: 228px;
      }

      & > span {
        background-color: var(--secondary);
        padding: 12px 20px;
        padding-right: 44px;
        border-radius: 30px;
        min-width: 200px;

        @include container-down('calc-form', 860px) {
          background-color: transparent;
          padding: 4px 20px;
        }
      }

      .custom-select-opener {
        margin-left: -32px;
        border: 2px solid var(--site-bg-color);

        @include container-down('calc-form', 860px) {
          margin-left: 0;
          border: none;
        }
      }

      .custom-select-panel {
        left: -32px;

        @include container-down('calc-form', 860px) {
          left: 0;
        }
      }

      &:first-child {
        position: relative;

        &::after {
          @extend %flex-center;
          position: relative;

          content: '';
          background-image: url('@img/switch-icon.svg');
          width: 40px;
          height: 40px;
          background-repeat: no-repeat;
          background-color: var(--secondary);
          background-position: center;
          background-size: 24px;
          border-radius: 50%;

          @include container-down('calc-form', $tablet-lg-width) {
            display: none;
          }
        }
      }
    }
  }
}